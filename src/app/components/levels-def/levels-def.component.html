<div class="clr-row" id="WierszGlowny">
    <div class="clr-col-9" id="Listaproduktow">    
        <clr-select-container>
            <label>Chose product:</label>
            <select clrSelect name="selProduct" [(ngModel)]="selSymbolCode" (change)="OnChangeProduct($event.target.value)">
                <option *ngFor="let symbol of symbols" value="{{symbol.code}}">{{symbol.name}}</option>
            </select>    
        </clr-select-container>

        <clr-datagrid class="datagrid-compact" [(clrDgSingleSelected)]="selInstrument" [clrDgRowSelection]="true" (clrDgSingleSelectedChange)="onChangeMainTab($event)">
            <clr-dg-column >Product</clr-dg-column>
            <clr-dg-column >Instrument</clr-dg-column>
            <clr-dg-column >Delivery</clr-dg-column>
            <clr-dg-column >First notice</clr-dg-column>
            <clr-dg-column >Expiration</clr-dg-column>
            <clr-dg-column >Tick size</clr-dg-column>
            <clr-dg-column >Remove</clr-dg-column>

                
            <clr-dg-row *clrDgItems="let instrument of instruments" [clrDgItem]="instrument">
                <clr-dg-cell >{{instrument.name}}</clr-dg-cell>
                <clr-dg-cell >{{instrument.instrument}}</clr-dg-cell>
                <clr-dg-cell >{{instrument.deliveryMonth}}</clr-dg-cell>
                <clr-dg-cell >{{instrument.strFirstNotice}}</clr-dg-cell>
                <clr-dg-cell >{{instrument.strExpiration }}</clr-dg-cell>
                <clr-dg-cell >{{instrument.tickSize }}</clr-dg-cell>
                <clr-dg-cell >
                    <a  class="label label-light-blue clickable" (click)="RemoveFromMyPortfolio($event, instrument)">Remove</a>
                </clr-dg-cell>


            </clr-dg-row>

            <clr-dg-footer>{{instruments.length}} instruments</clr-dg-footer>
        </clr-datagrid>
        <clr-spinner *ngIf="!instruments">Loading data ....</clr-spinner>




    </div>    
    <div class="clr-col-3" id="Def-Poziomny">
        <form clrForm>

            <button [disabled] = "txtSaved" class="btn btn-primary btn-sm btn-block" (click)="saveLevels()">Save changes</button>

            <clr-textarea-container>
              <label>Des:</label>
                <textarea clrTextarea [(ngModel)]="selInstrument.myDescription" name="myDescription" (change)="dataChange()"></textarea>
            </clr-textarea-container>
            <table class="table">
                <thead>
                    <tr>
                        <th>Level value</th>
                        <th>Weight</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text" class="level" [allowNegativeNumbers]="true" name ="ValueLevel_1" [(ngModel)]="levels.valueLevel_1" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight1" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_1" (change)="dataChange()"></td>
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_2" [(ngModel)]="levels.valueLevel_2" mask=""(change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight2" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_2" (change)="dataChange()"></td>
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_3" [(ngModel)]="levels.valueLevel_3" mask=""(change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight3" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_3" (change)="dataChange()"></td>
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_4" [(ngModel)]="levels.valueLevel_4" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight4" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_4" (change)="dataChange()"></td>                        
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_5" [(ngModel)]="levels.valueLevel_5" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight5" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_5" (change)="dataChange()"></td>                        
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_6" [(ngModel)]="levels.valueLevel_6" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight6" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_6" (change)="dataChange()"></td>                        
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_7" [(ngModel)]="levels.valueLevel_7" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight7" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_7" (change)="dataChange()"></td>                        
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_8" [(ngModel)]="levels.valueLevel_8" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight8" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_8" (change)="dataChange()"></td>                        
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_9" [(ngModel)]="levels.valueLevel_9" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight9" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_9" (change)="dataChange()"></td>                        
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_10" [(ngModel)]="levels.valueLevel_10" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight10" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_10" (change)="dataChange()"></td>                        
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_11" [(ngModel)]="levels.valueLevel_11" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight11" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_11" (change)="dataChange()"></td>                        
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_12" [(ngModel)]="levels.valueLevel_12" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight12" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_12" (change)="dataChange()"></td>                        
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_13" [(ngModel)]="levels.valueLevel_13" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight13" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_13" (change)="dataChange()"></td>                        
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_14" [(ngModel)]="levels.valueLevel_14" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight14" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_14" (change)="dataChange()"></td>                        
                    </tr>
                    <tr>
                        <td><input type="text" class="form-control level" [allowNegativeNumbers]="true" name ="ValueLevel_15" [(ngModel)]="levels.valueLevel_15" mask="" (change)="dataChange()"></td>
                        <td><input type="range" calss="clsRangeWT"  name="weight15" max="2" min="0" step="1" [(ngModel)]="levels.weightLevel_15" (change)="dataChange()"></td>                        
                    </tr>

                </tbody>
            </table>
        </form>
        
    </div>    

</div>

<clr-modal [(clrModalOpen)]="isModalVisible">
    <h3 class="modal-title">Changes have been made</h3>
    <div class="modal-body">
        <p>Save this chenges</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline" (click)="cancelSaveLevels()">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="saveLevels()">Save</button>
    </div>
</clr-modal>


<clr-modal [(clrModalOpen)]="isModalVisibleRemove">
    <h3 class="modal-title">{{selInstrument.instrument}}</h3>
    <div class="modal-body">
        <p>Remove instrument from my portfolio?</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline" (click)="cancelRemoveLevels()">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="akceptRemoveLevels()">Remove</button>
    </div>
</clr-modal>